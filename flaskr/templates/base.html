<!doctype html>
<!-- cropper.js 样式 -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cropperjs@1.6.1/dist/cropper.min.css">
<!-- jQuery（cropper.js 依赖） -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<!-- cropper.js 核心库 -->
<script src="https://cdn.jsdelivr.net/npm/cropperjs@1.6.1/dist/cropper.min.js"></script>
<title>{% block title %}{% endblock %} - Flaskr</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<nav>
  <h1><a href="{{ url_for('blog.index') }}">我的博客</a></h1>
  <ul>
    <li><a href="{{ url_for('blog.index') }}">首页</a></li>
    {% if g.user %}
      <li><a href="{{ url_for('blog.create') }}">写文章</a></li>
      <li><a href="{{ url_for('blog.user_profile', username=g.user['username']) }}">个人中心</a></li>
      <li><span>{{ g.user['username'] }}</span></li>
      <li><a href="{{ url_for('auth.logout') }}">退出登录</a></li>
    {% else %}
      <li><a href="{{ url_for('auth.register') }}">注册</a></li>
      <li><a href="{{ url_for('auth.login') }}">登录</a></li>
    {% endif %}
  </ul>
</nav>
<section class="content">
  <header>
    {% block header %}{% endblock %}
  </header>
  {% for message in get_flashed_messages() %}
    <div class="flash">{{ message }}</div>
  {% endfor %}
  {% block content %}{% endblock %}
</section>
